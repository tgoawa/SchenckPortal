<div class="row" style="margin-top: 20px">
  <div class="col-md-4">
    <h2>Strategy Event</h2>
  </div>
  <div class="col-md-1">
    <button class="btn btn-success" (click)="showEventModal()"><i class="fa fa-plus" aria-hidden="true"></i></button>
  </div>
</div>

<div class="row" *ngIf="existingEvents">
  <div class="col-md-12">
  <table class="table table-striped table-sm">
          <thead>
            <tr>
              <th>Event Name</th>
              <th>Event Date</th>
              <th>Description</th>
              <th>Status</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let event of currentEvents">
              <td>{{event.Name}}</td>
              <td>{{event.ScheduledDate}}</td>
              <td>{{event.Description}}</td>
              <td>{{event.StatusId}}</td>
              <td>edit</td>
            </tr> 
          </tbody>
        </table>
  </div>
</div>

<!--create new Event Item modal -->
<div bsModal #createEventItem="bs-modal" class="modal fade">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">{{modalTitle}} Strategy Event Item</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="hideEventModal()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
        <form novalidate (ngSubmit)="addEventItem(eventForm)" [formGroup]="eventForm">
          <div class="modal-body">
          <div class="form-group">
            <label>Event Name</label>
            <input type="text" class="form-control" formControlName="Name">
            <small class="form-text alert-danger" *ngIf="eventForm.get('Name').hasError('required') && eventForm.get('Name').touched">Name is required</small>
          </div>
          <div class="form-group">
            <label>Date of</label>
            <input type="date" class="form-control" formControlName="ScheduledDate">
            <small class="form-text alert-danger" *ngIf="eventForm.get('ScheduledDate').hasError('required') && eventForm.get('ScheduledDate').touched">Date is required</small>
          </div>
          <div class="form-group">
            <label>Description</label>
            <textarea class="form-control" formControlName="Description"></textarea>
            <small class="form-text alert-danger" *ngIf="eventForm.get('Description').hasError('required') && eventForm.get('Description').touched">Description is required</small>
            <small class="form-text alert-danger" *ngIf="eventForm.get('Description').hasError('maxlength') && eventForm.get('Description').touched">Description is required</small>
            
          </div>
          <div class="form-group">
            <label>Status</label>
            <select class="form-control" formControlName="StatusId">
            <option *ngFor="let item of eventStatus" [selected]="item.Id == StatusId" [value]="item.Id">{{item.Value}}</option>
          </select>
          <small class="form-text alert-danger" *ngIf="eventForm.get('StatusId').hasError('required') && eventForm.get('StatusId').touched">Status is required</small>
          </div>
          <div class="form-group" *ngIf="isCompleted">
            <label>Event Feedback</label>
            <textarea class="form-control" formControlName="Feedback"></textarea>
          </div>
      </div>
      <div class="modal-footer">
        <button type="submit" [disabled]="eventForm.invalid" class="btn btn-schenck">Submit</button>
        <button type="button" class="btn btn-danger" (click)="hideEventModal()">Cancel</button>
      </div>
      </form>
    </div>
  </div>
</div>